<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Exploitation&#39;a Giriş (Uygulama)</title>
  <meta name="description" content="Exploit nedir ?">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="http://localhost:4000/tr/2017/04/18/exploitation-giris.html">
  <link rel="alternate" type="application/rss+xml" title="Hakan Bayır" href="http://localhost:4000/feed.xml">


<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-101246969-1', 'auto');
  ga('send', 'pageview');

</script>

</head>


  <body>
      <div class="outer">
        <header class="site-header">

  <div class="wrapper">

    <a class="site-title" href="/">Hakan Bayır</a>
    
  </div>




  <div class="header-badge">
    <a href="/">
        <img src="/assets/test.jpg" />
    </a>
  </div>

    
</header>


        <div class="page-content">
          <div class="wrapper">
            <article class="post card" itemscope itemtype="http://schema.org/BlogPosting">
 <div class="card-content">
  <header class="post-header">
    <h1 class="post-title" itemprop="name headline">Exploitation'a Giriş (Uygulama)</h1>
    <p class="post-meta"><time datetime="2017-04-18T00:00:00+03:00" itemprop="datePublished">Apr 18, 2017</time></p>
  </header>

  <div class="post-content" itemprop="articleBody">
    <h4>Exploit nedir ?</h4>

<p>      Hedefteki belli zafiyetleri kullanarak yetki yükseltme, hedefe erişim
sağlama , hedef üzerinde çeşitli işlemleri gerçekleştirmek amacıyla 
oluşturulmuş araçlardır. Araçlar diyorum çünkü bunlar sadece yazılımsal
olmak zorunda değillerdir. Çeşitli amaçlarla üretilen <strong>cihazlar</strong> veya <strong>sosyal
mühendislik</strong> durumları da birer exploit davranışı sergileyebilir.</p>

<h4>Metasploit nedir ?</h4>

<p>      Metasploit <strong>open-source</strong> bir exploit framework’tür.  İçerisinde hazır
exploitleri ,zararlı kod parçalarını bulundurur. Bir sistemde zafiyet tespit
ettikten sonra buradan ilgili exploiti kullanarak sistem üzerinde 
yapmayı amaçladığımız işleri gerçekleştirebiliriz.</p>

<h4>Metasploitable nedir ? </h4>

<p>      Metasploitable , içerisinde bilinçli olarak belli zafiyetler 
barındıran bir linux işletim sistemidir. Bu sistem sızma testleri 
çalışmalarında ve uygulamalarında kullanılır ve exploit edilmeye
çalışılır.</p>

<h3>Metasploitable - Uygulama 1 </h3>

<p>      Metasploitable’ ı <strong>VMware</strong> sanal makinesinde kurduktan sonra ana cihazımızda 
metasploitable için  bir port taraması yapıyoruz. Öncelikle bunu 
yapabilmek için ip adresini bilmemiz gerekiyor. Bunu genel ağ taraması
ile de yapabiliriz. Bu uzun sürecektir. Daha kısa bir şekilde 
metasploitable üzerinde</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ifconfig
</code></pre></div></div>

<p>yazarak ip adresini öğrenebiliriz. 
Sonrasında ana cihaz üzerinde</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>nmap -sV -T4 192.168.164.128 --open
</code></pre></div></div>

<p>yazarak metasploitable üzerindeki açık portları listeleyebiliriz.</p>

<p><img src="/img/metasploitable/nmap-taramasi.png" /></p>

<p>      Burada ;</p>

<table>
  <tbody>
    <tr>
      <td>21/tcp</td>
      <td>open</td>
      <td>ftp</td>
      <td>vsftpd 2.3.4</td>
    </tr>
  </tbody>
</table>

<p>kısmını görüyoruz ve buradan açık olan <strong>ftp</strong> portu için metasploit’te uygun exploit araması yapıyoruz.
Bulduğumuz exploiti seçiyoruz.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>msf&gt; search vsftpd
msf&gt; use exploit/unix/ftp/vsftpd_234_backdoor
</code></pre></div></div>

<p><img src="/img/metasploitable/vsftpd-search.png" /></p>

<p>      Exploit için gerekli parametreleri görmek için aşağıdaki komutu giriyoruz.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>msf&gt; options
</code></pre></div></div>

<p>      Burada ‘Required’ = yes olan kısımlar girilmesi gerekli parametleri gösterir. <strong>RPORT</strong> için current
değerimiz 21 olarak kalabilir. <strong>RHOST</strong> için henüz girilmiş bir değer yok, bunu da ;</p>

<p><img src="/img/metasploitable/vsftpd-options.png" /></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>msf&gt; set RHOST 192.168.164.128
</code></pre></div></div>

<p>olarak giriyoruz ve artık exploitimiz hazır durumda.</p>

<p><img src="/img/metasploitable/vsftpd-run.png" /></p>

<p>      Hedefin komut satırı artık elimizde ,buradan amaçlarımız doğrultusunda komutlar çalıştırarak 
çeşitli işlemler yapabiliriz.</p>

<p><img src="/img/metasploitable/vsftpd-sonuc.png" /></p>

<h3>Metasploitable - Uygulama 2 </h3>

<p>      Yine port taramasından çıkan sonuca göre ;</p>

<table>
  <tbody>
    <tr>
      <td>22/tcp</td>
      <td>open</td>
      <td>ssh</td>
      <td>OpenSSH 4.7p1 Debian 8ubuntu1 (protocol 2.0)</td>
    </tr>
  </tbody>
</table>

<p>sonucunu görüyoruz. Buradan uygun exploit ile <strong>brute force</strong> yaparak ssh bağlantısı kurmaya çalışacağız. Anahtar kelimemizi ssh_login olarak belirleyip aratıyoruz.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>msf&gt; search ssh_login
</code></pre></div></div>

<p>      Burada auxilary ve exploitler birlikte listelendi . <strong>Auxilary</strong>‘ler sistem ele geçirilmeden önce 
bilgi toplama ,analiz etme gibi amaçlarla kullanılır ama bazen birer exploit görevi de görebilir.</p>

<p><img src="/img/metasploitable/ssh-search.png" /></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>msf&gt; use auxiliary/scanner/ssh/ssh_login
</code></pre></div></div>

<p>komutunu giriyoruz ve parametrelerini hazırlamaya başlıyoruz.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>msf&gt; options 
</code></pre></div></div>

<p>yaptıktan sonra RHOSTS gerekli bir parametre olduğunu görüyoruz ve ;</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>msf&gt; set RHOSTS 192.168.164.128
</code></pre></div></div>

<p>yaptıktan sonra brute-force atağında kullanılmak üzere wordlistimizi de veriyoruz.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>msf&gt; set USERPASS_FILE /usr/share/metasploit-framework/data/wordlists/root_userpass.txt

msf&gt; run 
</code></pre></div></div>

<p>dedikten sonra ssh bağlantısı bilgilerini ele geçiriyoruz ve artık bağlantı kurabiliriz.</p>

<p><img src="/img/metasploitable/ssh-sonuc.png" /></p>

<p><br /></p>

<p>      Böylelikle <strong>Metasploitable</strong> üzerinde bulduğumuz zafiyetlerden yararlanarak sızma uygulaması gerçekleştirmiş olduk. Önce sistem üzerinde olası zafiyetleri belirlemek için bilgi toplama aşaması gerçekleştirdik . Sonrasında bu bilgiler ışığında kullanılabilecek zafiyetleri tespit ettik ve <strong>Metasploit Framework</strong> üzerinden uygun exploitleri seçerek sisteme erişmeye çalıştık.</p>


  </div>
</div>
</article>

          </div>
        </div>

        <footer class="site-footer">

  <div class="wrapper">

    <span class="footer-heading">Hakan Bayır</span>
    <span class="footer-heading">2017 - 2018</span>

  </div>

</footer>

      </div>
  </body>
  
</html>
